---
title: 優秀的單元測試
sidebar_label: 優秀的單元測試
keywords: ["unit test", "單元測試"]
description: 優秀的單元測試
sidebar_position: 3
tags: [單元測試]
---

## 定義
> 一個單元測試是一段自動化的程式碼，這段程式會呼叫被測試的工作單元，並對這個單元的單一最終結果的某些假設或期望進行驗證。  
> 單元測試可靠、易讀、並且很容易維護，只要產品程式碼不發生變化，單元測試的執行結果是穩定一致的。  

## 原則
單元測試本身也是 Porduction Code 的一部分，就好比開發功能時會有基本的開發原則，同樣的，單元測試也會有一些原則需要遵守。

### FIRST 原則
- Fast (快速執行)：單元測試應該快速執行，以便開發人員可以頻繁地執行它們，及時發現問題並修復錯誤。
- Isolated (隔離性)：每個測試案例應獨立於其他測試執行。
- Repeatable (可重複執行)：可重複執行，不管執行幾次都會是一樣的結果。
- Self Validating (自我驗證)：測試應該有一個明確的通過/失敗結果，當錯誤發生可以明確簡單地告訴我們問題是什麼，不需要手動比對結果來確定測試是否成功。
- Timely (即時性)：單元測試應該與產品代碼同步撰寫。這有助於當代碼進行修改或擴展時，立即發現引入的問題。

### 開發原則
1. 可讀性好：一看就知道是要驗證什麼。
2. 容易維護：跟一般的開發功能一樣，當內容過於複雜，維運的難度就越高，就會讓後續的開發人員不願意或是無法知道這個測試案例該怎麼維護。
3. 可靠。
4. 撰寫測試很容易，執行起來快速。
5. 一個測試只驗證一個預期的結果，降低不必要的測試負擔。
6. **非臨時性的需求**：當需求只是用來做 POC 或是 Demo，完整的測試案例只會讓開發變得綁手綁腳。
7. 可以被自動化執行。

## Reference
[單元測試的藝術](https://www.tenlong.com.tw/products/9789864342471?list_name=c-unit-test)